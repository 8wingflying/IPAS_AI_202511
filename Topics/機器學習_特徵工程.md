# ğŸ§© ç‰¹å¾µå·¥ç¨‹ï¼ˆFeature Engineeringï¼‰

ç‰¹å¾µå·¥ç¨‹æ˜¯æ©Ÿå™¨å­¸ç¿’ä¸­æ¥µç‚ºé—œéµçš„ä¸€å€‹æ­¥é©Ÿï¼Œä¸»è¦ç›®çš„åœ¨æ–¼ã€Œå°‡åŸå§‹è³‡æ–™è½‰æ›æˆæ¨¡å‹å¯ä»¥æœ‰æ•ˆç†è§£èˆ‡å­¸ç¿’çš„ç‰¹å¾µã€ã€‚  
ç°¡å–®èªªï¼Œå®ƒæ˜¯ã€Œå°‡è³‡æ–™è½‰åŒ–ç‚ºæ™ºæ…§ã€çš„éç¨‹ï¼Œå¸¸æ±ºå®šæ¨¡å‹è¡¨ç¾çš„ä¸Šé™ã€‚

---

## ä¸€ã€ç‰¹å¾µå·¥ç¨‹çš„å®šç¾©

> ç‰¹å¾µå·¥ç¨‹æ˜¯æŒ‡å¾åŸå§‹è³‡æ–™ä¸­**æå–ã€é¸æ“‡ã€è½‰æ›**å‡ºæœ€èƒ½ä»£è¡¨å•é¡Œæœ¬è³ªçš„ç‰¹å¾µï¼Œä»¥æå‡æ¨¡å‹æ•ˆèƒ½çš„éç¨‹ã€‚

\[
\text{Feature Engineering} = f(\text{Raw Data}) \rightarrow \text{Useful Features}
\]

---

## äºŒã€ç‰¹å¾µå·¥ç¨‹çš„ä¸»è¦æ­¥é©Ÿ

| æ­¥é©Ÿ | èªªæ˜ | å¸¸ç”¨æŠ€è¡“ / ç¯„ä¾‹ |
|------|------|----------------|
| **1. ç‰¹å¾µæ“·å–ï¼ˆFeature Extractionï¼‰** | å¾åŸå§‹è³‡æ–™ä¸­æŠ½å–æœ‰æ„ç¾©çš„å±¬æ€§ | - TF-IDFã€Word2Vec<br>- PCAã€FFTã€çµ±è¨ˆæ‘˜è¦ |
| **2. ç‰¹å¾µè½‰æ›ï¼ˆFeature Transformationï¼‰** | æ”¹è®Šè³‡æ–™è¡¨ç¤ºå½¢å¼ï¼Œä½¿å…¶æ›´é©åˆæ¨¡å‹ | - æ¨™æº–åŒ– (Standardization)<br>- æ­£è¦åŒ– (Normalization)<br>- Log/Box-Cox è½‰æ› |
| **3. é¡åˆ¥ç·¨ç¢¼ï¼ˆCategorical Encodingï¼‰** | å°‡æ–‡å­—é¡åˆ¥è½‰æˆæ•¸å€¼ | - One-Hot Encoding<br>- Label Encoding<br>- Target Encoding |
| **4. ç¼ºå¤±å€¼è™•ç†ï¼ˆMissing Value Handlingï¼‰** | è£œé½Šæˆ–åˆªé™¤ç¼ºæ¼çš„è³‡æ–™ | - å‡å€¼/çœ¾æ•¸å¡«è£œ<br>- KNN Imputer<br>- æ’å€¼æ³• |
| **5. ç‰¹å¾µç¸®æ”¾ï¼ˆFeature Scalingï¼‰** | ç¢ºä¿ç‰¹å¾µåœ¨ç›¸åŒæ•¸å€¼ç¯„åœå…§ | - MinMaxScaler<br>- StandardScaler |
| **6. ç‰¹å¾µé¸æ“‡ï¼ˆFeature Selectionï¼‰** | é¸å‡ºæœ€å…·å½±éŸ¿åŠ›çš„ç‰¹å¾µ | - Filterï¼šChi-Squareã€Mutual Info<br>- Wrapperï¼šRFE<br>- Embeddedï¼šLasso |
| **7. ç‰¹å¾µç”Ÿæˆï¼ˆFeature Creationï¼‰** | åŸºæ–¼ç¾æœ‰è³‡æ–™å‰µé€ æ–°ç‰¹å¾µ | - æ™‚é–“æ¬„ä½æ‹†åˆ†ï¼ˆå¹´/æœˆ/æ—¥ï¼‰<br>- æ¯”ç‡ã€å·®ç•°ã€äº¤äº’é … (Interaction terms) |

---

## ä¸‰ã€ç‰¹å¾µå·¥ç¨‹çš„æ•¸å­¸é¢å‘

### 1ï¸âƒ£ æ¨™æº–åŒ– (Z-score normalization)
\[
x' = \frac{x - \mu}{\sigma}
\]

### 2ï¸âƒ£ æ­£è¦åŒ– (Min-Max scaling)
\[
x' = \frac{x - x_{\min}}{x_{\max} - x_{\min}}
\]

### 3ï¸âƒ£ PCA é™ç¶­
\[
Z = XW \quad \text{å…¶ä¸­ } W \text{ ç‚ºç‰¹å¾µå‘é‡çŸ©é™£}
\]

---

## å››ã€æ‡‰ç”¨å¯¦ä¾‹ï¼ˆä»¥æˆ¿åƒ¹é æ¸¬ç‚ºä¾‹ï¼‰

| åŸå§‹ç‰¹å¾µ | ç‰¹å¾µå·¥ç¨‹å¾Œ | èªªæ˜ |
|------------|--------------|------|
| `Date` | `Year`, `Month` | å°‡æ—¥æœŸåˆ†è§£ä»¥æ•æ‰å­£ç¯€æ•ˆæ‡‰ |
| `LotArea`, `GrLivArea` | `LotArea / GrLivArea` | æ¯”å€¼å¯è¡¨ç¤ºåœŸåœ°åˆ©ç”¨ç‡ |
| `Neighborhood` | One-Hot Encoding | è½‰æ›åœ°å€æ–‡å­—æˆæ•¸å€¼ |
| `Price` | log(Price) | å°æ•¸è½‰æ›ä»¥æ¶ˆé™¤åæ…‹ |

---

## äº”ã€ç‰¹å¾µå·¥ç¨‹çš„é‡è¦æ€§

| é¢å‘ | èªªæ˜ |
|------|------|
| **æ¨¡å‹æ•ˆèƒ½** | å¥½çš„ç‰¹å¾µå·¥ç¨‹å¯å¤§å¹…æå‡æº–ç¢ºç‡èˆ‡æ³›åŒ–èƒ½åŠ› |
| **å¯è§£é‡‹æ€§** | å¹«åŠ©äº†è§£å“ªäº›å› ç´ å½±éŸ¿é æ¸¬çµæœ |
| **é‹ç®—æ•ˆç‡** | é™ç¶­å¾Œå¯æ¸›å°‘è¨“ç·´æ™‚é–“èˆ‡éæ“¬åˆé¢¨éšª |

---

## å…­ã€å¸¸ç”¨å·¥å…·ï¼ˆPythonï¼‰

| é¡åˆ¥ | å¥—ä»¶ / æ–¹æ³• |
|------|--------------|
| è³‡æ–™è™•ç† | `pandas`, `numpy` |
| é¡åˆ¥ç·¨ç¢¼ | `sklearn.preprocessing.OneHotEncoder`, `LabelEncoder` |
| ç‰¹å¾µç¸®æ”¾ | `StandardScaler`, `MinMaxScaler`, `RobustScaler` |
| ç‰¹å¾µé¸æ“‡ | `SelectKBest`, `RFE`, `LassoCV` |
| é™ç¶­ | `PCA`, `t-SNE`, `UMAP` |

---

## ä¸ƒã€ç°¡æ˜“ Python ç¯„ä¾‹

```python
import pandas as pd
from sklearn.preprocessing import StandardScaler, OneHotEncoder
from sklearn.decomposition import PCA
from sklearn.compose import ColumnTransformer
from sklearn.pipeline import Pipeline

# æ¨¡æ“¬è³‡æ–™
df = pd.DataFrame({
    'area': [100, 150, 200],
    'price': [1_000_000, 1_500_000, 2_000_000],
    'type': ['A', 'B', 'A']
})

# å®šç¾©è½‰æ›æµç¨‹
num_features = ['area', 'price']
cat_features = ['type']

preprocessor = ColumnTransformer([
    ('num', StandardScaler(), num_features),
    ('cat', OneHotEncoder(), cat_features)
])

pipeline = Pipeline([
    ('preprocess', preprocessor),
    ('reduce', PCA(n_components=2))
])

result = pipeline.fit_transform(df)
print(result)
